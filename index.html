<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마녀공장 모바일</title>
    <link href="css/main.css" rel="stylesheet" />
    <style>
        #load {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            z-index: 99;
            transition: 1s;
        }
        #load img {
            width: 200px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>

<body class="wrap">
    <div id="load">
        <img src="img/logo.png" alt="" />
    </div><!-- .load end -->

    <header>
        <div class="inner">
            <h1>
                <a href="#">
                    <img src="img/logo.png" alt="마녀공장" />
                </a>
            </h1>
            <div class="menu_open">
                <img src="img/menu_icon.png" alt="메뉴보기" />
            </div><!-- .menu_open end -->
            <nav>
                <div class="menu_close">
                    <img src="img/close_icon.jpg" alt="메뉴닫기" />
                </div><!-- .menu_close end -->
                <ul>
                    <li class="depth01">
                        <a href="#">브랜드</a>
                    </li><!-- depth01 end -->

                    <li class="depth01">
                        <a href="#">특가</a>
                    </li><!-- depth01 end -->

                    <li class="depth01">
                        <a href="#">피부타입별</a>
                    </li><!-- depth01 end -->

                    <li class="depth01">
                        <a href="#">카테고리별</a>
                    </li><!-- depth01 end -->

                    <li class="depth01">
                        <a href="javascript:void(0)">라인별</a>
                        <ul class="depth02">
                            <li><a href="#">갈락</a></li>
                            <li><a href="#">미피다</a></li>
                            <li><a href="#">퓨어 클렌징</a></li>
                            <li><a href="#">아워 비건</a></li>
                            <li><a href="#">바닐라부티크</a></li>
                            <li><a href="#">온천수</a></li>
                        </ul><!-- depth02 end -->
                    </li><!-- depth01 end -->

                    <li class="depth01">
                        <a href="#">브랜드별</a>
                        <ul class="depth02">
                            <li><a href="#">갈락</a></li>
                            <li><a href="#">미피다</a></li>
                            <li><a href="#">퓨어 클렌징</a></li>
                            <li><a href="#">아워 비건</a></li>
                            <li><a href="#">바닐라부티크</a></li>
                            <li><a href="#">온천수</a></li>
                        </ul><!-- depth02 end -->
                    </li><!-- depth01 end -->

                    <li class="depth01">
                        <a href="#">신상품</a>
                    </li><!-- depth01 end -->

                    <li class="depth01">
                        <a href="#">이벤트</a>
                    </li><!-- depth01 end -->
                </ul>
            </nav>
        </div><!-- inner end -->
    </header>
    <main>
        <section class="main_visual">
            <img src="img/main_visualx2.jpg" alt="" />
            <div>
                <h2>히더 진정 라인 런치 기념
                    Special Week</h2>
                <a href="#">자세히보기</a>
            </div>
        </section><!-- main_visual end -->

        <section class="best">
            <div class="inner">
                <h3>best sellers :</h3>
                <ul class="best_menu">
                    <li class="on">전체</li>
                    <li>클렌징</li>
                    <li>스킨 토너 미스트</li>
                    <li>앰플 에센스 오일</li>
                </ul><!-- .best_menu end -->

                <div class="list on">
                    <div class="item">
                        <figure>
                            <img src="img/best01.jpg" alt="" />
                        </figure>
                        <div class="text">
                            <h4>갈라토미 나이아신 에센스 50ml</h4>
                            <div>
                                <p>29,000원</p>
                                <ul>
                                    <li>18,800원</li>
                                    <li>35%</li>
                                </ul>
                            </div>
                        </div><!-- .text end -->
                    </div><!-- .item end -->

                    <div class="item">
                        <figure>
                            <img src="img/best02.jpg" alt="" />
                        </figure>
                        <div class="text">
                            <h4>퓨어 클렌징 오일 200ml</h4>
                            <div>
                                <p>29,000원</p>
                                <ul>
                                    <li>17,400원</li>
                                    <li>40%</li>
                                </ul>
                            </div>
                        </div><!-- .text end -->
                    </div><!-- .item end -->
                </div><!-- .list end / 전체 -->

                <div class="list">
                    <div class="item">
                        <figure>
                            <img src="img/best02.jpg" alt="" />
                        </figure>
                        <div class="text">
                            <h4>퓨어 클렌징 오일 200ml</h4>
                            <div>
                                <p>29,000원</p>
                                <ul>
                                    <li>17,400원</li>
                                    <li>40%</li>
                                </ul>
                            </div>
                        </div><!-- .text end -->
                    </div><!-- .item end -->

                    <div class="item">
                        <figure>
                            <img src="img/best03.jpg" alt="" />
                        </figure>
                        <div class="text">
                            <h4>퓨어&딥 클렌징 폼 200ml</h4>
                            <div>
                                <p>18,000원</p>
                                <ul>
                                    <li>11,000원</li>
                                    <li>38%</li>
                                </ul>
                            </div>
                        </div><!-- .text end -->
                    </div><!-- .item end -->
                </div><!-- .list end / 클렌징 -->
                 

                <a href="#">전체보기</a>
            </div><!-- .inner end -->
        </section><!-- .best end -->

        <section class="event">
            <div class="inner">
                <div class="title">
                    <h3>event :</h3>
                    <a href="#">전체보기</a>
                </div><!-- .title end -->
                <div class="item on">
                    <a href="#">
                        <figure>
                            <img src="img/event01.jpg" alt="" />
                        </figure>
                        <div>
                            <h4>마녀공장 집들이에 초대합니다!1</h4>
                            <p>어서오세요 공식몰이 새단장했어요<br />
                                할인 쿠폰&선착순 1000명 사은품 증정</p>
                            <span>2023.04.04 am 10:00 - 04.30 pm 11:59</span>
                        </div>
                    </a>
                </div><!-- .item end -->

                <div class="item">
                    <a href="#">
                        <figure>
                            <img src="img/event02.jpg" alt="" />
                        </figure>
                        <div>
                            <h4>마녀공장 집들이에 초대합니다!2</h4>
                            <p>어서오세요 공식몰이 새단장했어요<br />
                                할인 쿠폰&선착순 1000명 사은품 증정</p>
                            <span>2023.04.04 am 10:00 - 04.30 pm 11:59</span>
                        </div>
                    </a>
                </div><!-- .item end -->

                <div class="item">
                    <a href="#">
                        <figure>
                            <img src="img/event01.jpg" alt="" />
                        </figure>
                        <div>
                            <h4>마녀공장 집들이에 초대합니다!3</h4>
                            <p>어서오세요 공식몰이 새단장했어요<br />
                                할인 쿠폰&선착순 1000명 사은품 증정</p>
                            <span>2023.04.04 am 10:00 - 04.30 pm 11:59</span>
                        </div>
                    </a>
                </div><!-- .item end -->

            </div><!-- .list end -->
            <div class="arrow">
                <p class="prev">이전</p>
                <p class="next">다음</p>
            </div>
        </section><!-- event end -->
    </main>
    <footer>
        <p>COPYRIGHT © MANYOFACTORY<br />
            ALL RIGHTS RESERVED.</p>
    </footer>

    <script>
         setTimeout(function () {
                let loadingPage = document.getElementById('load');
                loadingPage.style.opacity = '0';
                loadingPage.style.transform = 'scale(0)'
            }, 3000);
            //5초뒤에 실행

        //메뉴
        let bodyTag = document.getElementsByTagName('body')[0];
        let menuOpen = document.getElementsByClassName('menu_open')[0];
        let menuClose = document.getElementsByClassName('menu_close')[0];
        let hdMenu = document.getElementsByTagName('nav')[0];

        let depth01 = document.getElementsByClassName('depth01'); 
        let depth02 = document.getElementsByClassName('depth02');
        


        //hdMenu.style.display = 'none';
        hdMenu.style.right = '-520px';

        //메뉴 열고 닫기
        menuOpen.onclick = function () {
            if (hdMenu.style.right == '-520px') {
                hdMenu.style.right = '0px';
                
                bodyTag.classList.add('bgcolor');
            }
        }
        menuClose.onclick = function () {
            if (hdMenu.style.right == '0px') {
                hdMenu.style.right = '-520px';
                bodyTag.classList.remove('bgcolor');
            }
        }

        
        
        //2차메뉴 모두 없애기
        
        //ul한테 클래스명 depth02를 가지고 있을 때
        //메서드는 지정한 tagName의 HTML 요소를 만들어 반환
        //메서드 : 프로그램이 실행될 때 동작이 이루어지는것
        let depth02Class =  document.createElement('ul').className = 'depth02';
        
        for (let i = 0; i < depth02.length; i++) {
            if (depth02Class.className = 'depth02') {
            // body 엘리먼트에 wrap라느 클래스가 있을 경우
            depth02[i].style.display = 'none';
            }
        }
    
        //1차메뉴 클릭 시 2차메뉴 나타나고 사라지기
        for(let i = 0; i < depth01.length; i++) {
            
            console.log( depth01[i])
            depth01[i].onclick = function(){
                /* https://moo-you.tistory.com/574 
                공부해보기 */
                 
                let depthchild = depth01[i].children[1]; //depth01의 자식찾기
                //let depthchildClass = document.bodyTag.classList.contains('depth01');
              
                if(depthchild.style.display == 'none'){
                    depthchild.style.display = 'block';
                    depth01[i].children[0].style.color = '#ff0000';
                } else {
                    depth01[i].children[0].style.color = '#333333';
                    depthchild.style.display = 'none';
                }
            }   
        }

        

        //탭

        let best = document.getElementsByClassName('best')[0];
        let bestMenu = best.getElementsByClassName('best_menu')[0];
        let menuBtn = bestMenu.getElementsByTagName('li');

        let bestList = best.getElementsByClassName('list');
        for(let i = 0; i < menuBtn.length; i++) {
            menuBtn[i].onclick = function(){
                //모든 클래스명 없애고 클릭한 메뉴한테만 on붙이기
                menuBtn[0].classList.remove('on');
                menuBtn[1].classList.remove('on'); 
                
                menuBtn[i].classList.add('on');
                
                //모든 클래스명 없애고 클릭한 메뉴한테만 on붙이기
                bestList[0].classList.remove('on');
                bestList[1].classList.remove('on'); 

                bestList[i].classList.add('on');
            } //menuBtn.onclick
        }//for 


        //이벤트 이전다음버튼
        let event = document.getElementsByClassName('event')[0];
        let eventItem = event.getElementsByClassName('item');

        let eventPrev = event.getElementsByClassName('prev')[0];
        let eventNext = event.getElementsByClassName('next')[0];

        let eventPage = 0;
        eventNext.onclick = function () {
            eventPage++;
            if (eventPage >= eventItem.length) {
                eventPage = eventPage - 1;
                //console.log(eventPage)
            }
            eventItem[eventPage - 1].classList.remove('on'); 
            eventItem[eventPage].classList.add('on');

        }

        eventPrev.onclick = function () {
            eventPage--;
            if(eventPage <= 0) {
                eventPage = 0;
                //console.log(eventPage)
            }
            eventItem[eventPage + 1].classList.remove('on'); 
            eventItem[eventPage].classList.add('on');

        }
    </script>
</body>

</html>